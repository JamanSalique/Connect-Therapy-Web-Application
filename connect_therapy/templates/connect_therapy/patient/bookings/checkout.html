{% extends 'connect_therapy/base.html' %}
{% block title %}Patient | Checkout{% endblock %}

{% block header %}
    <header>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">{% endblock %}
    </header>
{% block content %}

    <h1>Checkout</h1>
    <div class="container-fluid">

        {% if appointments|length == 0 %}

            <h4>Your basket seems to be empty, go and select some appointments and then come back.</h4>

        {% elif appointments|length > 0 %}
    <div class="table-responsive">
            <table class="table table-hover">
                <tr>
                    <th>Practitioner</th>
                    <th>Date and time</th>
                    <th>Duration</th>
                    <th>Remove from basket</th>
                </tr>
                {% for app in appointments %}
                    <tr>
                        <form action="{% url 'connect_therapy:checkout' %}" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="session_id" value="{{ app.session_id }}">
                            <td>Dr. {{ app.practitioner.user.get_full_name }}</td>
                            <td>{{ app.start_date_and_time }}</td>
                            <td>{{ app.length }}</td>
                            <td>
                                <input type="submit" class="btn btn-warning" value="Delete">
                            </td>
                        </form>
                    </tr>
                {% endfor %}

            </table>
    </div>
            <form action="{% url 'connect_therapy:checkout' %}" method="post">
                {% csrf_token %}
                <input type="hidden" name="checkout" value="checkout">
                <input type="submit" class="btn btn-success" value="Book">
            </form>

        {% endif %}
    </div>
{% endblock %}

{% block styles %}
    <style>
        h1 {
            text-align: center;
            padding-top: 20px;
            text-transform: uppercase;
            letter-spacing: 4px;
            padding-bottom: 20px;
        }

        div.content.container-fluid, div.container-fluid{
                padding-left: 0px;
                padding-right: 0px;
        }

        th {
            vertical-align: middle;
            text-align: center;
            font-size: 20px;
            font-weight: 600;
            letter-spacing: 1px;
            background-color: lightgrey;
        }

        td {
            vertical-align: middle !important;
            text-align: center;
            font-size: 17px;
            font-weight: 400;
        }

        .btn.btn-warning {
            font-size: 15px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 3px;
            font-weight: 500;
        }

        .btn.btn-success {
            font-size: 16px;
            letter-spacing: 2px;
            padding-left: 15px;
            padding-right: 15px;
            text-transform: uppercase;
            font-weight: 400;
            margin-top: 50px;
            margin-left: 30px;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 30px;
                padding-bottom: 14px;
                letter-spacing: 2px;
            }

            th {
                font-size: 15px;
                text-transform: uppercase;
                letter-spacing: 0px;
                font-weight: 500;
                vertical-align: middle !important;
                text-align: center;
            }

            td {
                font-size: 15px;
                font-weight: 400;
            }

            .btn.btn-warning {
                font-size: 12px;
                letter-spacing: 1px;
                padding-right: 5px;
                padding-left: 5px;
                padding-top: 6px;
                padding-bottom: 6px;
            }

            .btn.btn-success {
                    margin-left: 20px;
                    margin-top: 40px;
                    font-size: 14px;
                    font-weight: 300;
            }
        }
    </style>
{% endblock %}