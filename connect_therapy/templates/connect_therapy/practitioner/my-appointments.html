{% extends 'connect_therapy/base.html' %}
{% block title %}Practitioner appointments{% endblock %}

{% block content %}
    <h1>Your Appointments</h1></br>
    <h2>Current Bookings</h2>
    <table class="table">
        <tr>
            <th>Date and time</th>
            <th>Duration</th>
            <th>Patient Name</th>
            <th>Patient D.O.B</th>
            <th>Price</th>
            <th>Actions</th>
        </tr>
        {% for appointment in future_appointments %}
            <tr class="current">
                <td> {{ appointment.start_date_and_time }} </td>
                <td> {{ appointment.length }} </td>
                <td>
                    {% if appointment.patient %}
                        {{ appointment.patient.user.get_full_name }}
                    {% else %}
                    Unbooked
                    {% endif %}
                </td>
                <td>
                {% if appointment.patient %}
                     {{ appointment.patient.date_of_birth }}
                {%  endif %}
                <td>Â£{{ appointment.price }}</td>
                <td><a href="{% url 'connect_therapy:practitioner-cancel-appointment' appointment.id %}"> Cancel Appointment</a> | <a href=""> View Notes</a></td>
            </tr>
        {% endfor %}
    </table>

    <h2>Previous Bookings</h2>
    <table class="table">
        <tr>
            <th>Date and time</th>
            <th>Duration</th>
            <th>Patient</th>
            <th>Actions</th>
        </tr>
        {% for appointment in past_appointments %}
            <tr class="previous">
                <td> {{ appointment.start_date_and_time }} </td>
                <td> {{ appointment.length }} </td>
                <td> {{ appointment.patient }} </td>
                <td><a href=""> View Notes</a></td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}
